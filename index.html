<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Flashy</title>

  <!-- Inter font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="styles.css" />
  <link rel="manifest" href="manifest.webmanifest" />
  <meta name="theme-color" content="#2D6AE6" />
</head>
<body>
  <div class="app">
    <!-- Side-bar-->
    <aside class="sidebar">
      <div class="brand">
        <div class="logo">F</div>
        <div class="name">Flashy</div>
      </div>

      <nav class="side-nav">
        <a href="#/home" data-route class="nav-link" id="nav-home">
          <span class="icon">üè†</span> Home
        </a>
        <a href="#/browse" data-route class="nav-link" id="nav-browse">
          <span class="icon">üìÇ</span> Browse
        </a>
        <a href="#/review" data-route class="nav-link" id="nav-review">
          <span class="icon">üìñ</span> Review
        </a>
        <a href="#/create" data-route class="nav-link" id="nav-create">
          <span class="icon">‚ûï</span> Create
        </a>
        <a href="#/settings" data-route class="nav-link" id="nav-settings">
          <span class="icon">‚öôÔ∏è</span> Settings
        </a>
      </nav>

      <div class="today">
        <div class="today-title">Today</div>
        <div class="today-grid">
          <div class="tiny-kpi">
            <div class="tiny-kpi-label">Due</div>
            <div class="tiny-kpi-value" id="kpi-due">42</div>
          </div>
          <div class="tiny-kpi">
            <div class="tiny-kpi-label">New</div>
            <div class="tiny-kpi-value" id="kpi-new">12</div>
          </div>
          <div class="tiny-kpi">
            <div class="tiny-kpi-label">Learning</div>
            <div class="tiny-kpi-value" id="kpi-learning">18</div>
          </div>
          <div class="tiny-kpi">
            <div class="tiny-kpi-label">Total</div>
            <div class="tiny-kpi-value" id="kpi-total">112</div>
          </div>
        </div>
      </div>

      
    </aside>

    <!-- Main -->
    <div class="main">
      <!-- Topbar -->
      <header class="topbar">
        <div class="crumb">
          <span class="crumb-icon">üìë</span>
          <span id="crumb-title">Home Dashboard</span>
        </div>

        <div class="search">
          <span class="search-icon">üîé</span>
          <input id="global-search" type="text" placeholder="Search decks, cards..." />
        </div>

        <div class="actions" id="top-actions"></div>
      </header>

      <!-- Views -->
      <main class="views" id="views">

        <!-- Home -->
        <section id="view-home" class="view">
          <h2 class="h-section">Overview</h2>
          <div class="grid-3">
            <div class="card kpi">
              <div class="kpi-header">
                <div class="kpi-icon">üóÇÔ∏è</div>
                <div class="kpi-label">Total Cards</div>
              </div>
              <div class="kpi-value-lg" id="home-total-cards">1,284</div>
              <div class="progress"><div class="progress-bar" style="width: 66%"></div></div>
              <div class="subtext">Collection growth</div>
            </div>
            <div class="card kpi">
              <div class="kpi-header">
                <div class="kpi-icon">‚úÖ</div>
                <div class="kpi-label">Daily Goal</div>
              </div>
              <div class="kpi-value-sm">65% of 40 reviews</div>
              <div class="progress"><div class="progress-bar" style="width: 65%"></div></div>
              <div class="subtext">Keep it up!</div>
            </div>
            <div class="card kpi">
              <div class="kpi-header">
                <div class="kpi-icon">üî•</div>
                <div class="kpi-label">Streak</div>
              </div>
              <div class="kpi-value-lg">12 days</div>
              <div class="progress"><div class="progress-bar alt" style="width: 75%"></div></div>
              <div class="subtext">Best: 21 days</div>
            </div>
          </div>

          <div class="spacer-24"></div>
          <div class="row-header">
            <h2 class="h-section">Deck Browser</h2>
            <div class="row-tools">
              <button class="btn btn-outline" data-action="filter">Filter</button>
            </div>
          </div>
          <div class="deck-grid" id="home-deck-grid"></div>

          <div class="spacer-24"></div>
          <h2 class="h-section">Flashcard Review</h2>
          <div class="card review-card">
            <div class="muted">Nothing</div>
            <div class="flashcard">
              <div class="flash-inner">
                <div class="flash-front">
                  <div class="flash-term">A</div>
                  <div class="flash-sub muted">blabla</div>
                  <div class="flash-example mirrored">Example: qwertyuiop?</div>
                </div>
              </div>
            </div>
            <div class="rate-grid">
              <button class="btn btn-pill danger">Again</button>
              <button class="btn btn-pill info">Hard</button>
              <button class="btn btn-pill lilac">Good</button>
              <button class="btn btn-pill success">Easy</button>
            </div>
          </div>
        </section>

        <!-- Browse -->
        <section id="view-browse" class="view">
          <div class="row-header">
            <h2 class="h-section">Your Decks</h2>
            <div class="row-tools">
              <div class="segmented" id="gridtoggle">
                <button data-mode="grid" class="seg active">Grid</button>
                <button data-mode="list" class="seg">List</button>
              </div>
              <button class="btn btn-primary" data-nav="#/create">New Deck</button>
            </div>
          </div>
          <div class="deck-grid" id="browse-deck-grid" data-layout="grid"></div>

          <div class="spacer-24"></div>
          <div class="callout">
            <div>
              <div class="callout-title">Looking for a specific deck?</div>
              <div class="muted">Use search or create a new deck to get started.</div>
            </div>
            <div><button class="btn btn-primary" data-nav="#/create">Create Deck</button></div>
          </div>

          <button class="fab" title="New Deck" data-nav="#/create">Ôºã</button>
        </section>

        <!-- Review -->
        <section id="view-review" class="view">
          <div class="review-toprow">
            <div class="pill-row">
              <button class="btn btn-outline small" data-nav="#/browse">‚Üê Back</button>
              <span id="review-deck-name" class="pill">Deck</span>
              <button id="review-change-deck" class="btn btn-outline small">Change</button>
              <span class="pill alt">Streak 12</span>
            </div>
            <div class="pill-row">
              <span class="pill soft">‚è± 00:00</span>
              <span class="muted">0 / 0</span>
            </div>
          </div>

          <div class="columns-3">
            <div class="card">
              <h3 class="h-card">Session Queue</h3>
              <div class="kv">
                <div>New</div><div>0</div>
                <div>Learning</div><div>0</div>
                <div>Review</div><div>0</div>
              </div>
              <h4 class="h-sub">Hints</h4>
              <p class="muted">Try to recall first. Reveal only when needed; rate honestly.</p>
            </div>

            <div class="card main-flash halo">
              <div class="flashcard tall">
                <div class="flash-inner">
                  <div class="flash-front">
                    <div class="flash-term">A</div> 
                    <div class="flash-sub muted">Buenos d√≠as</div>
                    <div class="flash-example mirrored">Example: ¬°Buenos d√≠as!, ¬øc√≥mo est√°s?</div>
                  </div>
                </div>
              </div>

              <div class="answer-controls">
                <button id="reveal-answer" class="btn btn-outline small">Show Answer</button>
              </div>
              <div class="answer-area">
                <input id="answer-input" class="input" placeholder="Type your answer‚Ä¶ then Enter or Check" />
                <div class="answer-actions">
                  <button id="check-answer" class="btn btn-primary small">Check</button>
                  <span id="answer-feedback" class="feedback"></span>
                </div>
              </div>
            </div>

            <div class="card">
              <h3 class="h-card">Card Info</h3>
              <div class="kv">
                <div>Ease</div><div>250%</div>
                <div>Interval</div><div>1d</div>
                <div>Lapses</div><div>0</div>
                <div>Tags</div><div>spanish, greetings</div>
              </div>
              <div class="btn-row">
                <button class="btn btn-outline flex-1">‚úé Edit</button>
                <button class="btn btn-outline flex-1">‚úî Mark</button>
              </div>
            </div>
          </div>

          <div class="rate-grid" id="review-rate-grid">
            <button class="btn btn-pill danger">Again</button>
            <button class="btn btn-pill info">Hard</button>
            <button class="btn btn-pill lilac">Good</button>
            <button class="btn btn-pill success">Easy</button>
          </div>

          <div class="progress-wide">
            <div class="progress">
              <div class="progress-bar" style="width:25%"></div>
            </div>
            <div class="muted">25% complete</div>
          </div>
        </section>

        <!-- Create -->
        <section id="view-create" class="view">
          <div class="row-header">
            <h2 class="h-section">Deck Details</h2>
            <div class="row-tools">
              <button class="btn btn-outline">Import</button>
              <button class="btn btn-outline">Template</button>
            </div>
          </div>

          <div class="card form">
            <label class="label">Deck name</label>
            <input class="input" id="deck-name" placeholder="e.g., Spanish A2 Vocabulary" />

            <label class="label">Description</label>
            <textarea class="textarea" id="deck-desc" rows="3" placeholder="Short summary of what's inside this deck..."></textarea>

            <div class="form-row">
              <div class="form-col">
                <label class="label">Parent deck</label>
                <div class="inline">
                  <input class="input" value="None" />
                  <button class="btn btn-outline">Select</button>
                </div>
              </div>
            </div>

            <label class="label">Card type</label>
            <div class="segmented" id="card-type">
              <button class="seg active">Basic</button>
              <button class="seg">Cloze</button>
              <button class="seg">QA</button>
            </div>

            <div class="form-row">
              <div class="form-col">
                <label class="label">Tags</label>
                <input class="input" placeholder="Add tags..." />
              </div>
              <div class="form-col shrink">
                <label class="label opacity0">.</label>
                <button class="btn btn-outline">Add</button>
              </div>
            </div>

            <label class="label">Sharing</label>
            <div class="segmented" id="share-type">
              <button class="seg active">Private</button>
              <button class="seg">Workspace</button>
              <button class="seg">Public</button>
            </div>
          </div>

          <div class="spacer-16"></div>
          <div class="row-header">
            <h3 class="h-section">Preview</h3>
            <div class="muted small">Generated from your chosen card type</div>
          </div>
          <div class="preview-grid">
            <div class="preview-box"></div>
            <div class="preview-box"></div>
          </div>

          <div class="preview-actions">
            <div class="inline">
              <button class="btn btn-outline">üß© Suggest name</button>
              <div class="muted">Keep it short and descriptive.</div>
            </div>
            <div class="inline gap-8">
              <button class="btn btn-outline">Cancel</button>
              <button class="btn btn-outline">Save & Add Cards</button>
              <button class="btn btn-primary">Create Deck</button>
            </div>
          </div>

          <div class="callout">
            <div>
              <div class="callout-title">Tips</div>
              <div class="muted">Use tags and parent decks to keep your library organized.</div>
            </div>
            <button class="btn btn-outline">Quick add card</button>
          </div>
        </section>

        <!-- Settings -->
        <section id="view-settings" class="view">
          <div class="row-header">
            <h2 class="h-section">Account & App Preferences</h2>
            <button class="btn btn-outline">Reset to defaults</button>
          </div>

          <div class="settings-grid">
            <aside class="card slim">
              <a class="sideitem active">üë§ Profile</a>
              <a class="sideitem">üîî Notifications</a>
              <a class="sideitem">üìã Review Defaults</a>
              <a class="sideitem">üé® Appearance</a>
              <a class="sideitem">üîí Privacy & Security</a>
              <a class="sideitem">üíæ Data & Backup</a>
            </aside>

            <div class="settings-panels">
              <div class="card">
                <div class="panel-head">
                  <div class="title">Profile</div>
                  <button class="btn btn-outline small">Change avatar</button>
                </div>

                <div class="form">
                  <label class="label">Display name</label>
                  <input class="input" value="Ravi Bhaiya" />

                  <label class="label">Email</label>
                  <input class="input" value="ravibhaiyanub@example.com" />

                  <label class="label">Bio</label>
                  <textarea class="textarea" rows="3" placeholder="Short description about your learning goals..."></textarea>

                  <label class="label">Timezone</label>
                  <div class="inline">
                    <input class="input" value="GMT+05:30 (India)" />
                    <button class="btn btn-outline">Select</button>
                  </div>

                  <div class="btn-row end">
                    <button class="btn btn-outline">Cancel</button>
                    <button class="btn btn-primary">Save changes</button>
                  </div>
                </div>
              </div>

              <div class="card">
                <div class="panel-head">
                  <div class="title">Review Defaults</div>
                  <div class="muted small">These apply to new decks unless overridden.</div>
                </div>

                <div class="form grid-3c">
                  <div>
                    <label class="label">Daily new cards</label>
                    <input class="input" value="20" />
                    <div class="subtext">Limit of unseen cards introduced per day</div>
                  </div>
                  <div>
                    <label class="label">Daily review limit</label>
                    <input class="input" value="200" />
                    <div class="subtext">Cap for due and learning reviews</div>
                  </div>
                  <div>
                    <label class="label">Learning steps</label>
                    <input class="input" value="10m, 1d" />
                  </div>
                  <div>
                    <label class="label">Graduating interval</label>
                    <input class="input" value="3d" />
                  </div>
                  <div>
                    <label class="label">Ease factor</label>
                    <input class="input" value="250%" />
                  </div>

                  <div class="btn-row end span-3">
                    <button class="btn btn-outline">‚ü≤ Revert</button>
                    <button class="btn btn-primary">Save defaults</button>
                  </div>
                </div>
              </div>

              <div class="card">
                <div class="panel-head"><div class="title">Appearance</div></div>
                <div class="form grid-2c">
                  <div>
                    <label class="label">Theme</label>
                    <div class="segmented" data-toggle="theme" id="theme-group">
                      <button class="seg active" data-theme="system">System</button>
                      <button class="seg" data-theme="light">Light</button>
                      <button class="seg" data-theme="dark">Dark</button>
                    </div>
                  </div>
                  <div>
                    <label class="label">Card font size</label>
                    <div class="segmented" id="font-group">
                      <button class="seg active" data-font="medium">Medium</button>
                      <button class="seg" data-font="large">Large</button>
                    </div>
                  </div>
                  <div class="span-2">
                    <label class="label">Animations</label>
                    <div class="segmented" id="anim-group">
                      <button class="seg active" data-anim="on">On</button>
                      <button class="seg" data-anim="off">Off</button>
                    </div>
                  </div>
                </div>
              </div>

              <div class="card danger">
                <div class="danger-row">
                  <div class="danger-text">
                    <div class="title">Danger zone</div>
                    <div class="muted">Export your data or delete your account. This cannot be undone.</div>
                  </div>
                  <div class="inline gap-8">
                    <button class="btn btn-outline" id="export-data">Export data</button>
                    <button class="btn btn-danger" id="delete-account">Delete account</button>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </section>

      </main>
    </div>
  </div>

  <!-- Stats Modal -->
  <div id="stats-modal" class="modal hidden" aria-hidden="true">
    <div class="modal-backdrop" data-close="stats"></div>
    <div class="modal-panel" role="dialog" aria-modal="true" aria-labelledby="stats-title" tabindex="-1">
      <div class="modal-header">
        <div class="title">üìä <span id="stats-title">Session Stats</span></div>
        <div class="inline gap-8">
          <div class="segmented">
            <button class="seg active">Today</button>
            <button class="seg">7d</button>
            <button class="seg">30d</button>
          </div>
          <button class="btn btn-outline small" data-close="stats">Close</button>
        </div>
      </div>

      <div class="modal-body stats-grid">
        <div class="stats-left">
          <div class="card soft">
            <div class="muted">Cards Reviewed</div>
            <div class="big">20</div>
            <div class="muted small">5 new ‚Ä¢ 6 learning ‚Ä¢ 9 review</div>
          </div>
          <div class="card soft">
            <div class="muted">Accuracy</div>
            <div class="big">86%</div>
            <div class="muted small">17 correct / 3 incorrect</div>
          </div>
          <div class="card">
            <div class="kv">
              <div>Ease Avg</div><div>2.4</div>
              <div>Time / Card</div><div>8.2s</div>
              <div>Longest Streak</div><div>12</div>
              <div>Mature vs Young</div><div>40% / 60%</div>
            </div>
          </div>
        </div>

        <div class="stats-right">
          <div class="card">
            <div class="h-card">Reviews Over Time</div>
            <div class="chart">Line chart placeholder</div>
          </div>
          <div class="two">
            <div class="card">
              <div class="h-card">Answer Distribution</div>
              <div class="chart">Bar chart placeholder</div>
            </div>
            <div class="card">
              <div class="h-card">Intervals Forecast</div>
              <div class="chart">Area chart placeholder</div>
            </div>
          </div>
          <div class="card">
            <div class="h-card">Time Spent</div>
            <div class="chart">Heatmap placeholder</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Add Card Modal -->
  <div id="card-modal" class="modal hidden" aria-hidden="true">
    <div class="modal-backdrop" data-close="card"></div>
    <div class="modal-panel" role="dialog" aria-modal="true" tabindex="-1">
      <div class="modal-header">
        <div class="title">‚ûï Add Card</div>
        <button class="btn btn-outline small" data-close="card">Close</button>
      </div>
      <div class="modal-body">
        <div class="form">
          <label class="label">Deck</label>
          <select id="card-deck" class="input"></select>

          <label class="label">Front</label>
          <input id="card-front" class="input" placeholder="Question / term..." />
          <label class="label">Back</label>
          <textarea id="card-back" class="textarea" rows="3" placeholder="Answer..."></textarea>
          <label class="label">Tags (comma separated)</label>
          <input id="card-tags" class="input" placeholder="e.g., spanish, greetings" />
          <div class="btn-row end">
            <button class="btn btn-outline" data-close="card">Cancel</button>
            <button id="card-save" class="btn btn-primary">Save Card</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Filter/Sort Modal -->
  <div id="fs-modal" class="modal hidden" aria-hidden="true">
    <div class="modal-backdrop"></div>
    <div class="modal-panel" role="dialog" aria-modal="true" tabindex="-1">
      <div class="modal-header">
        <div class="title">Filter & Sort</div>
        <button class="btn btn-outline small" onclick="(function(){const m=document.getElementById('fs-modal'); m.classList.remove('show'); setTimeout(()=>m.classList.add('hidden'),180);})();">Close</button>
      </div>
      <div class="modal-body">
        <div class="form grid-2c">
          <div>
            <label class="label">Search text</label>
            <input id="fs-search" class="input" placeholder="Deck name..." />
          </div>
          <div>
            <label class="label">Min cards</label>
            <input id="fs-min" class="input" type="number" min="0" value="0" />
          </div>
          <div class="span-2">
            <label class="label">Sort by</label>
            <select id="fs-sort" class="input">
              <option value="updated_desc">Recently updated</option>
              <option value="name_az">Name A ‚Üí Z</option>
              <option value="cards_desc">Cards (high ‚Üí low)</option>
            </select>
          </div>
          <div class="btn-row end span-2">
            <button id="fs-clear" class="btn btn-outline">Clear</button>
            <button id="fs-apply" class="btn btn-primary">Apply</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  
  <input id="import-file" type="file" accept="application/json" style="display:none" />

  
  <div id="toast-container" class="toasts" aria-live="polite" aria-atomic="true"></div>

  
  <script src="db.js"></script>
  <script src="srs.js"></script>
  <script src="app.js"></script>
</body>
</html>